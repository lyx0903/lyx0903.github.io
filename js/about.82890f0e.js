"use strict";(self["webpackChunkh5"]=self["webpackChunkh5"]||[]).push([[443],{204:function(t,s,i){i.r(s),i.d(s,{default:function(){return o}});var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"warp"},[e("div",{staticClass:"banner animate__animated animate__bounceIn"}),t._m(0),e("div",{staticClass:"tools"},[e("img",{class:{active:1===t.curMode},attrs:{src:i(774)},on:{click:function(s){return t.modeChange(1)}}}),e("img",{class:{active:2===t.curMode},attrs:{src:i(946)},on:{click:function(s){return t.modeChange(2)}}}),e("img",{class:{active:3===t.curMode},attrs:{src:i(443)},on:{click:function(s){return t.modeChange(3)}}})]),e("div",{staticClass:"music-list"},[e("ul",t._l(t.musicList,(function(s,a){return e("li",{key:a,class:{playing:s.playState}},[e("div",{staticClass:"info"},[e("h3",[t._v(t._s(s.musicName))]),e("p",[t._v(t._s(s.singer))])]),e("div",{staticClass:"btn",on:{click:function(i){return t.playCur(s)}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:0===s.playState,expression:"item.playState === 0"}],attrs:{src:i(455),alt:""}}),e("img",{directives:[{name:"show",rawName:"v-show",value:2===s.playState,expression:"item.playState === 2"}],attrs:{src:i(575),alt:""}}),e("img",{directives:[{name:"show",rawName:"v-show",value:1===s.playState,expression:"item.playState === 1"}],attrs:{src:i(287),alt:""}})]),1===s.playState||2===s.playState?[e("div",{staticClass:"progress"},[e("van-slider",{attrs:{"button-size":"0.3rem","bar-height":"0.1rem","active-color":"#fff","inactive-color":"rgba(255,255,255, 0.3)"},on:{change:t.sliderChange,"drag-start":t.dragStart},model:{value:t.curProgress,callback:function(s){t.curProgress=s},expression:"curProgress"}})],1),e("div",{staticClass:"time clearfix"},[e("span",{staticClass:"left"},[t._v(t._s(t.curTime))]),e("span",{staticClass:"right"},[t._v(t._s(t.allTime))])])]:t._e()],2)})),0)]),e("audio",{ref:"audioDom",on:{ended:t.musicEnd,canplay:t.onPlay}})])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("h2",[i("div",{staticClass:"text"})])}],r={name:"MusicList",data(){return{audioDom:null,musicList:[{id:"1",musicName:"水星记",singer:"技术三部 杨子超",mp3Url:"https://www.xuzeyun.com/hsymusic/水星记.mp3",playState:0},{id:"2",musicName:"城",singer:"业务研发四部 段启深",mp3Url:"https://www.xuzeyun.com/hsymusic/城.mp3",playState:0},{id:"3",musicName:"我爱你不问归期",singer:"用户体验部 金鑫",mp3Url:"https://www.xuzeyun.com/hsymusic/我爱你不问归期.mp3",playState:0},{id:"4",musicName:"最重要的决定",singer:"业务研发三部 崔照欣",mp3Url:"https://www.xuzeyun.com/hsymusic/最重要的决定.mp3",playState:0},{id:"5",musicName:"东北民谣",singer:"业务架构管理部 马芳琳",mp3Url:"https://www.xuzeyun.com/hsymusic/东北民谣.mp3",playState:0},{id:"6",musicName:"雪の華",singer:"业务架构管理部 达之玢",mp3Url:"https://www.xuzeyun.com/hsymusic/雪の華.m4a",playState:0},{id:"7",musicName:"Love Paradise",singer:"业务研发四部 秦子瑜",mp3Url:"https://www.xuzeyun.com/hsymusic/Love Paradise.mp3",playState:0},{id:"8",musicName:"勇气",singer:"业务研发三部 付佳",mp3Url:"https://www.xuzeyun.com/hsymusic/勇气.m4a",playState:0},{id:"9",musicName:"我害怕",singer:"技术三部 韩英奇",mp3Url:"https://www.xuzeyun.com/hsymusic/我害怕.mp3",playState:0},{id:"10",musicName:"想见你想见你想见你",singer:"业务研发三部 陈田蕊",mp3Url:"https://www.xuzeyun.com/hsymusic/想见你想见你想见你.mp3",playState:0}],curMode:1,curProgress:0,curTime:"00:00",allTime:"00:00",timer:null,curMusic:null}},mounted(){this.audioDom=this.$refs.audioDom},beforeDestroy(){this.timer=null},methods:{playCur(t){console.log(t),this.curMusic=t,1===t.playState?(t.playState=2,this.audioDom.pause()):2===t.playState?(t.playState=1,this.audioDom.play()):(this.curTime="00:00",this.curProgress=0,t.playState=1,this.audioDom.src=t.mp3Url,this.audioDom.play(),this.musicList.forEach((s=>{s.id!=t.id&&(s.playState=0)})),this.$nextTick((()=>{this.getCurTime()})))},dragStart(){console.log(666),this.timer=null,console.log(this.timer,"timer")},sliderChange(t){this.audioDom.currentTime=this.audioDom.duration*(t/100)},onPlay(){console.log(this.audioDom.duration),this.allTime=this.audioTimeTransform(this.audioDom.duration)},getCurTime(){this.timer=null,this.timer=setInterval((()=>{try{this.curTime=this.audioTimeTransform(this.audioDom.currentTime),this.curProgress=this.audioDom.currentTime/this.audioDom.duration*100,console.log(this.audioDom.currentTime,this.audioDom.duration)}catch(t){console.log(t)}}),1e3)},audioTimeTransform(t){let s=t/60,i=parseInt(s);i<10&&(i="0"+i);let e=t%60,a=Math.round(e);return a<10&&(a="0"+a),i+":"+a},musicEnd(){switch(this.musicList.forEach((t=>{t.playState=0})),this.curMode){case 1:this.curMusic.id!=this.musicList.length?this.playCur(this.musicList[Number(this.curMusic.id)]):this.playCur(this.musicList[0]);break;case 2:{let t=this.musicRandom(this.curMusic.id);this.playCur(this.musicList[t]);break}case 3:this.playCur(this.curMusic);break;default:break}},musicRandom(t){let s=Math.floor(Math.random()*this.musicList.length)+1;if(t!=s)return Number(s)-1;this.musicRandom()},modeChange(t){switch(this.curMode=t,t){case 1:this.$toast("顺序播放");break;case 2:this.$toast("随机播放");break;case 3:this.$toast("单曲循环");break;default:break}}}},u=r,c=i(1),m=(0,c.Z)(u,e,a,!1,null,"17fafb9d",null),o=m.exports},455:function(t,s,i){t.exports=i.p+"img/bf.1bf368f4.svg"},575:function(t,s,i){t.exports=i.p+"img/bf2.ae4bf8e7.svg"},946:function(t,s,i){t.exports=i.p+"img/sj.b5d12da1.svg"},774:function(t,s,i){t.exports=i.p+"img/sx.64a42951.svg"},443:function(t,s,i){t.exports=i.p+"img/xh.132a153e.svg"},287:function(t,s,i){t.exports=i.p+"img/zt.9ce8b30b.svg"}}]);