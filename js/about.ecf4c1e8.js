"use strict";(self["webpackChunkh5"]=self["webpackChunkh5"]||[]).push([[443],{181:function(i,t,s){s.r(t),s.d(t,{default:function(){return o}});var a=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"warp"},[a("div",{staticClass:"banner animate__animated animate__bounceIn"}),i._m(0),a("div",{staticClass:"tools"},[a("img",{class:{active:1===i.curMode},attrs:{src:s(774)},on:{click:function(t){return i.modeChange(1)}}}),a("img",{class:{active:2===i.curMode},attrs:{src:s(946)},on:{click:function(t){return i.modeChange(2)}}}),a("img",{class:{active:3===i.curMode},attrs:{src:s(443)},on:{click:function(t){return i.modeChange(3)}}})]),a("div",{staticClass:"music-list"},[a("ul",i._l(i.musicList,(function(t,e){return a("li",{key:e,class:{playing:t.playState}},[a("div",{staticClass:"info"},[a("h3",[i._v(i._s(t.musicName))]),a("p",[i._v(i._s(t.singer))])]),a("div",{staticClass:"btn",on:{click:function(s){return i.playCur(t)}}},[a("img",{directives:[{name:"show",rawName:"v-show",value:0===t.playState,expression:"item.playState === 0"}],attrs:{src:s(455),alt:""}}),a("img",{directives:[{name:"show",rawName:"v-show",value:2===t.playState,expression:"item.playState === 2"}],attrs:{src:s(575),alt:""}}),a("img",{directives:[{name:"show",rawName:"v-show",value:1===t.playState,expression:"item.playState === 1"}],attrs:{src:s(287),alt:""}})]),1===t.playState||2===t.playState?[a("div",{staticClass:"progress"},[a("van-slider",{attrs:{"button-size":"0.3rem","bar-height":"0.1rem","active-color":"#fff","inactive-color":"rgba(255,255,255, 0.3)"},on:{change:i.sliderChange,"drag-start":i.dragStart},model:{value:i.curProgress,callback:function(t){i.curProgress=t},expression:"curProgress"}})],1),a("div",{staticClass:"time clearfix"},[a("span",{staticClass:"left"},[i._v(i._s(i.curTime))]),a("span",{staticClass:"right"},[i._v(i._s(i.allTime))])])]:i._e()],2)})),0)]),a("audio",{ref:"audioDom",on:{ended:i.musicEnd,canplay:i.onPlay}})])},e=[function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("h2",[s("div",{staticClass:"text"})])}],r={name:"MusicList",data(){return{audioDom:null,musicList:[{id:"1",musicName:"水星记",singer:"技术三部 杨子超",mp3Url:"music/水星记.mp3",playState:0},{id:"2",musicName:"城",singer:"业务研发四部 段启深",mp3Url:"music/城.mp3",playState:0},{id:"3",musicName:"我爱你不问归期",singer:"用户体验部 金鑫",mp3Url:"music/我爱你不问归期.mp3",playState:0},{id:"4",musicName:"最重要的决定",singer:"业务研发三部 崔照欣",mp3Url:"music/最重要的决定.mp3",playState:0},{id:"5",musicName:"东北民谣",singer:"业务架构管理部 马芳琳",mp3Url:"music/东北民谣.mp3",playState:0},{id:"6",musicName:"雪の華",singer:"业务架构管理部 达之玢",mp3Url:"music/雪の華.m4a",playState:0},{id:"7",musicName:"Love Paradise",singer:"业务研发四部 秦子瑜",mp3Url:"music/Love Paradise.mp3",playState:0},{id:"8",musicName:"勇气",singer:"业务研发三部 付佳",mp3Url:"music/勇气.m4a",playState:0},{id:"9",musicName:"我害怕",singer:"技术三部 韩英奇",mp3Url:"music/我害怕.mp3",playState:0},{id:"10",musicName:"想见你想见你想见你",singer:"业务研发三部 陈田蕊",mp3Url:"music/想见你想见你想见你.mp3",playState:0}],curMode:1,curProgress:0,curTime:"00:00",allTime:"00:00",timer:null,curMusic:null}},mounted(){this.audioDom=this.$refs.audioDom},beforeDestroy(){this.timer=null},methods:{playCur(i){console.log(i),this.curMusic=i,1===i.playState?(i.playState=2,this.audioDom.pause()):2===i.playState?(i.playState=1,this.audioDom.play()):(this.curTime="00:00",this.curProgress=0,i.playState=1,this.audioDom.src=i.mp3Url,this.audioDom.play(),this.musicList.forEach((t=>{t.id!=i.id&&(t.playState=0)})),this.$nextTick((()=>{this.getCurTime()})))},dragStart(){console.log(666),this.timer=null,console.log(this.timer,"timer")},sliderChange(i){this.audioDom.currentTime=this.audioDom.duration*(i/100)},onPlay(){console.log(this.audioDom.duration),this.allTime=this.audioTimeTransform(this.audioDom.duration)},getCurTime(){this.timer=null,this.timer=setInterval((()=>{try{this.curTime=this.audioTimeTransform(this.audioDom.currentTime),this.curProgress=this.audioDom.currentTime/this.audioDom.duration*100,console.log(this.audioDom.currentTime,this.audioDom.duration)}catch(i){console.log(i)}}),1e3)},audioTimeTransform(i){let t=i/60,s=parseInt(t);s<10&&(s="0"+s);let a=i%60,e=Math.round(a);return e<10&&(e="0"+e),s+":"+e},musicEnd(){switch(this.musicList.forEach((i=>{i.playState=0})),this.curMode){case 1:this.curMusic.id!=this.musicList.length?this.playCur(this.musicList[Number(this.curMusic.id)]):this.playCur(this.musicList[0]);break;case 2:{let i=this.musicRandom(this.curMusic.id);this.playCur(this.musicList[i]);break}case 3:this.playCur(this.curMusic);break;default:break}},musicRandom(i){let t=Math.floor(Math.random()*this.musicList.length)+1;if(i!=t)return Number(t)-1;this.musicRandom()},modeChange(i){switch(this.curMode=i,i){case 1:this.$toast("顺序播放");break;case 2:this.$toast("随机播放");break;case 3:this.$toast("单曲循环");break;default:break}}}},c=r,u=s(1),m=(0,u.Z)(c,a,e,!1,null,"1bbe22ed",null),o=m.exports},455:function(i,t,s){i.exports=s.p+"img/bf.1bf368f4.svg"},575:function(i,t,s){i.exports=s.p+"img/bf2.ae4bf8e7.svg"},946:function(i,t,s){i.exports=s.p+"img/sj.b5d12da1.svg"},774:function(i,t,s){i.exports=s.p+"img/sx.64a42951.svg"},443:function(i,t,s){i.exports=s.p+"img/xh.132a153e.svg"},287:function(i,t,s){i.exports=s.p+"img/zt.9ce8b30b.svg"}}]);